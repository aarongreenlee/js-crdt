language: node_js

node_js:
- 8.0

before_script:
- npm install --dev

script:
- npm test
- npm run lint

notifications:
  email: false

before_deploy:
- npm run deploy

deploy:
  provider: npm
  email: "EMAIL_ADDRESS"
  api_key: "NPM_AUTH_TOKEN"
  tag: next
  on:
    tags: true
    branch: master
